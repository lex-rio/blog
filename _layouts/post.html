---
layout: default
---

<article class="post">
    <h1 class="post-title">{{ page.title }}</h1>
    <time datetime="{{ page.date | date_to_xmlschema }}" class="post-date">{{ page.date | date_to_string }}</time>
    {{ content }}
</article>

{% if site.related_posts != empty %}
<aside class="related">
    <h3>Related posts</h3>
    <ul class="related-posts">
        {% for post in site.related_posts limit:3 %}
        <li>
            <a href="{{ site.baseurl }}{{ post.url }}">
                {{ post.title }}
                <small>
                    <time datetime="{{ post.date | date_to_xmlschema }}">{{ post.date | date_to_string }}</time>
                </small>
            </a>
        </li>
        {% endfor %}
    </ul>
</aside>
{% endif %}

<dialog id="image-modal"></dialog>
<script type="text/javascript">

  let dialog = document.createElement('dialog');
  dialog.setAttribute("id", "image-modal");
  dialog.addEventListener('click', function (e) {
    this.close();
  });
  let items = document.getElementsByTagName('a');

  for (item of items) {
    item.addEventListener('click', function (e) {
      let img = this.getElementsByTagName('img')[0];
      if (!img) {
        return;
      }
      e.preventDefault();
      let dialog = document.getElementById('image-modal');
      dialog.innerHTML = `<img src="${img.src}">`;
      dialog.showModal();
      console.log(img.src);
    });
  }


</script>
